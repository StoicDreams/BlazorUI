@inherits BUICore

<MudText Typo="Typo.h1">
	@GetPageTitleDisplay
</MudText>

<MudSpacer />

<MudIconButton Icon="@Icons.Material.Filled.Settings" Color="Color.Inherit" Title="Open App Settings" OnClick="ToggleNav" />

@code {
	private string AppName => AppOptions.AppName;
	private string PageTitle => GetState<string>(AppStateDataTags.PageTitle, () => string.Empty);

	private string GetPageTitleDisplay
	{
		get
		{
			string appName = AppName;
			string title = PageTitle;
			if (string.IsNullOrWhiteSpace(appName) && string.IsNullOrWhiteSpace(title)) { return string.Empty; }
			if (string.IsNullOrWhiteSpace(appName)) { return title; }
			return $"{appName} - {title}";
		}
	}

	private void ToggleNav()
	{
		AppState.ApplyChanges(() =>
		{
			AppState.SetData(AppStateDataTags.RightDrawerContent, typeof(BUIAppSettings));
			AppState.SetData(AppStateDataTags.TitleBarRightDrawerOpen, true);
		});
	}
}
