@page "/error"

@inject IAppState AppState

<BUIPageDetail Title="Error" />

<MudAlert Severity="Severity.Error">
	@if (Exception != null)
	{
		@Exception.Message
	}
	else
	{
		@GetMessage
	}
</MudAlert>

@code {
	[Parameter]
	[SupplyParameterFromQuery(Name = "error")]
	public string Message { get; set; } = string.Empty;
	[Parameter]
	public Exception? Exception { get; set; }

	private string GetMessage => string.IsNullOrWhiteSpace(Message) ? AppState.GetData<string?>(AppStateDataTags.NotFoundDefaultMessage) ?? DefaultMessage : Message;

	private const string DefaultMessage = "An unexpected error occurred handling your request.";
}
